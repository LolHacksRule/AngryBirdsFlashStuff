package
{
   import § "$§.§'"R§;
   import § $%§.§%§;
   import § $%§.§4"v§;
   import § $%§.§5h§;
   import § $%§.§]e§;
   import § o§.§ !M§;
   import § o§.§%"!§;
   import § o§.§0$<§;
   import § o§.§8!e§;
   import § o§.AvatarCreatorPopup;
   import § o§.InviteFriendsPopup;
   import § o§.QuestionPopup;
   import § o§.QuickPurchaseSlingshotPopup;
   import §!@§.§,!z§;
   import §"!V§.§+0§;
   import §&"J§.§"!F§;
   import §&"J§.§4"W§;
   import §&"J§.§4b§;
   import §&"J§.§6$0§;
   import §&"J§.§9N§;
   import §&"J§.§<!u§;
   import §&"J§.§<#>§;
   import §&"J§.§`"v§;
   import §&"J§.§`]§;
   import §+!C§.§!!S§;
   import §+!C§.§#!L§;
   import §+">§.§#"d§;
   import §+">§.§+#J§;
   import §+">§.§+$<§;
   import §+">§.§92§;
   import §+#t§.§ P§;
   import §+#t§.§5F§;
   import §+#t§.§5V§;
   import §-!_§.GiftInboxPopup;
   import §-#U§.§ !y§;
   import §0$;§.TournamentResultsPopup;
   import §1#=§.§2"_§;
   import §1#W§.§!#&§;
   import §1#W§.§0#>§;
   import §1#W§.§5I§;
   import §1#W§.§6"4§;
   import §1#W§.§9§;
   import §1#W§.§="D§;
   import §1#W§.§`#+§;
   import §2F§.§>§;
   import §4$<§.§?§;
   import §5"?§.§4"-§;
   import §5d§.§6"p§;
   import §6!0§.§ "8§;
   import §6!6§.§@#L§;
   import §6!6§.§[k§;
   import §6"r§.§!#A§;
   import §6$#§.§?#'§;
   import §6V§.§-§;
   import §6V§.§0#z§;
   import §6V§.§3"p§;
   import §6V§.§4!v§;
   import §6V§.§7#M§;
   import §6V§.§?!=§;
   import §6V§.§@!o§;
   import §6V§.§^"e§;
   import §6V§.§`"5§;
   import §7"&§.§&"T§;
   import §7"&§.§2>§;
   import §7"&§.§5#`§;
   import §7",§.TabbedShopPopup;
   import §8!§.§`a§;
   import §8"X§.§#p§;
   import §8"X§.§1!a§;
   import §8"X§.§6#K§;
   import §8"X§.§>!k§;
   import §8"X§.§@!x§;
   import §8"X§.StateLastWeeksTournamentResults;
   import §8"X§.StateTournamentResults;
   import §8"X§.§^!E§;
   import §8"X§.§`$>§;
   import §9"0§.§ §;
   import §9"0§.§@#m§;
   import §9"0§.CoinShopPopup;
   import §9"1§.§+!x§;
   import §94§.§!#G§;
   import §94§.§%"5§;
   import §94§.§&$-§;
   import §94§.§&I§;
   import §94§.§'!!§;
   import §94§.§'!8§;
   import §94§.§+"?§;
   import §94§.§,#E§;
   import §94§.§-!c§;
   import §94§.§5!"§;
   import §94§.§7!c§;
   import §94§.§7!x§;
   import §94§.§<![§;
   import §94§.§>!&§;
   import §94§.§>#"§;
   import §94§.§@"X§;
   import §94§.StateCutScene;
   import §94§.StatePlay;
   import §;#r§.§"g§;
   import §;P§.§#w§;
   import §<"P§.§8#-§;
   import §<"p§.§8N§;
   import §<"p§.§?!T§;
   import §<#m§.§!"<§;
   import §<#m§.§+!&§;
   import §<#m§.§^#o§;
   import §<u§.§ "a§;
   import §>!I§.§ "6§;
   import §>!I§.§%#'§;
   import §>!I§.§<!&§;
   import §>"c§.§+!R§;
   import §>"c§.§@!1§;
   import §>#d§.§ #w§;
   import §>@§.§'!L§;
   import §>@§.§>x§;
   import §?$9§.§6§;
   import §?]§.§0!B§;
   import §?]§.§1v§;
   import §?]§.§?#K§;
   import §@!n§.§`$<§;
   import §@#§.§^#Q§;
   import §@#§.§`!Q§;
   import §[!E§.§>#`§;
   import §["r§.§'E§;
   import §["r§.§8`§;
   import §["r§.§@#I§;
   import §[0§.§;$-§;
   import §[G§.§4!0§;
   import §[G§.§9#R§;
   import §]"6§.DailyRewardPopup;
   import §]#p§.§%!?§;
   import §];§.§-!t§;
   import §];§.§;!r§;
   import §^"U§.§??§;
   import §^"U§.§`#n§;
   import §`!R§.§&"8§;
   import com.rovio.assets.§+$#§;
   import com.rovio.assets.LoadingScreen;
   import flash.display.DisplayObjectContainer;
   import flash.display.Loader;
   import flash.display.MovieClip;
   import flash.display.Sprite;
   import flash.display.Stage3D;
   import flash.events.ErrorEvent;
   import flash.events.Event;
   import flash.events.IOErrorEvent;
   import flash.events.KeyboardEvent;
   import flash.events.SecurityErrorEvent;
   import flash.events.TimerEvent;
   import flash.events.UncaughtErrorEvents;
   import flash.external.ExternalInterface;
   import flash.geom.Rectangle;
   import flash.net.SharedObject;
   import flash.net.URLLoader;
   import flash.net.URLLoaderDataFormat;
   import flash.net.URLRequest;
   import flash.net.URLRequestMethod;
   import flash.system.ApplicationDomain;
   import flash.system.LoaderContext;
   import flash.system.Security;
   import flash.ui.ContextMenu;
   import flash.utils.Timer;
   import flash.utils.clearInterval;
   import flash.utils.getTimer;
   import flash.utils.setInterval;
   
   public class §-#+§ extends AngryBirdsBase implements §7#M§, IAngryBirdsFacebook
   {
      
      public static const §%"u§:String = "r9678";
      
      public static const §;L§:String = "v2.8";
      
      public static const §@!5§:String = "http://bit.ly/playfriends";
      
      public static const §"!9§:String = "external_assets/";
      
      public static const §7'§:String = §"!9§ + "tournaments/";
      
      public static const §8I§:String = §"!9§ + "sale_campaigns/";
      
      public static const §[$§:String = "packages/";
      
      public static const §<#;§:String = "tournamentJSONLevels/";
      
      private static const §<!o§:String = "AngryBirdsFacebookSettings";
      
      public static const §1!L§:String = "/";
      
      public static const §1[§:String = "brand.lua";
      
      protected static var §@$=§:Class = §;"V§;
      
      protected static var §#$0§:Class = §2#N§;
      
      protected static var §>1§:Class = §2#U§;
      
      protected static var §]k§:Class = §1M§;
      
      protected static var §&$2§:Class = §=!c§;
      
      protected static var §?!B§:Class = §'"]§;
      
      protected static var §8"^§:Class = §&!]§;
      
      public static var §03§:§9#R§;
      
      public static var §;!$§:IAngryBirdsFacebook;
      
      private static var §<#a§:Boolean = false;
      
      public static var §,#3§:String = null;
      
      public static var §7!U§:Boolean;
      
      private static const §=-§:int = 0;
      
      private static const §2?§:int = 1;
      
      public static const §2G§:Array = [[§>!&§.STATE_NAME,"MAIN_MENU"],[§-!c§.STATE_NAME,"STORY_MODE_EPISOLE_SELECTION"],[§^!E§.STATE_NAME,"LEVEL_SELECTION"],[§,#E§.STATE_NAME,"STORY_MODE_LEVEL_SELECTION"],[§7!c§.STATE_NAME,"STORY_MODE_LEVEL_SELECTION"],[§<![§.STATE_NAME,"STORY_MODE_LEVEL_SELECTION"],[§6#K§.STATE_NAME,"INGAME"],[StatePlay.STATE_NAME,"INGAME"],[§&"8§.§ y§,"INGAME"],[§&"8§.§1b§,"PAUSE_PAGE"]];
      
      private static var §4#f§:Boolean = false;
      
      private static var §0"c§:Boolean = false;
      
      public static var §+X§:Object;
      
      private static var §0#§:XML;
       
      
      protected var §0#R§:§&"8§;
      
      private var §2#l§:InviteFriendsPopup;
      
      public var §##A§:§`#n§;
      
      private var §false§:§??§;
      
      private var §79§:String = "";
      
      private var §4"e§:§-#9§;
      
      private var §0#-§:§`#+§;
      
      private var §7!n§:Sprite;
      
      private var §2#G§:Boolean = false;
      
      protected var §@!@§:§^"e§;
      
      private var §>"D§:String;
      
      private var §!#8§:String;
      
      private var §%d§:String;
      
      private var §[!v§:String;
      
      private var §,"=§:§?#K§;
      
      private var §`0§:uint = 0;
      
      private var §^!h§:Array;
      
      private var §^#V§:Timer;
      
      private var §27§:QuestionPopup;
      
      private var §"#x§:int = 0;
      
      private var §,$=§:Boolean;
      
      private var §8$%§:Vector.<§4"v§>;
      
      private var §0Q§:Timer;
      
      private var §;$ §:§<#>§;
      
      public function §-#+§(param1:§8#-§)
      {
         §-#!§ = param1.stage.loaderInfo.parameters.serverVersion || "[No version from server]";
         SERVER_ROOT = param1.stage.loaderInfo.parameters.serverRoot || (!!DEBUG_MODE_ENABLED ? "http://angrybirds-facebook-staging.appspot.com" : "http://angrybirds-facebook-dev.appspot.com");
         this.§'9§();
         §!#A§.DEBUG_MODE_ENABLED = false;
         §6§.§?!O§ = true;
         this.§6";§(SERVER_ROOT,param1.loaderInfo.uncaughtErrorEvents,§%"u§,param1.stage.loaderInfo.parameters.userId || this.§>"D§);
         this.§>#e§();
         param1.stage.addChild(this.§7!n§ = new Sprite());
         super(param1,§-#!§,SERVER_ROOT);
         this.§@!@§.§5?§(mLevelManager);
         this.§@!@§.§8!^§();
         § "8§.addCallback("trialPayClosed",this.§7!H§);
         § "8§.addCallback("handleExpiredMobilePricePoints",this.§"t§);
         § "8§.addCallback("handleUserCancelledOrder",§0!i§);
         § "8§.addCallback("orderReceived",§="]§);
         this.§^!h§ = new Array();
         this.§^!h§[§=-§] = false;
         this.§^!h§[§2?§] = false;
         §7!U§ = true;
      }
      
      public static function §2"0§() : String
      {
         if((AngryBirdsBase.singleton.dataModel.userProgress as §4"-§).userID)
         {
            return §<!o§ + "-" + (AngryBirdsBase.singleton.dataModel.userProgress as §4"-§).userID;
         }
         return null;
      }
      
      public static function get §,!w§() : §`!Q§
      {
         return (singleton as §-#+§).§?"b§;
      }
      
      private static function §0!i§() : void
      {
         CoinShopPopup.§1"+§ = false;
         var _loc1_:CoinShopPopup = AngryBirdsBase.singleton.popupManager.getOpenPopupById(CoinShopPopup.ID) as CoinShopPopup;
         if(_loc1_)
         {
            _loc1_.§9!Q§();
         }
         var _loc2_:QuickPurchaseSlingshotPopup = AngryBirdsBase.singleton.popupManager.getOpenPopupById(QuickPurchaseSlingshotPopup.ID) as QuickPurchaseSlingshotPopup;
         if(_loc2_)
         {
            _loc2_.§9!Q§();
         }
      }
      
      private static function §="]§() : void
      {
         var _loc1_:CoinShopPopup = AngryBirdsBase.singleton.popupManager.getOpenPopupById(CoinShopPopup.ID) as CoinShopPopup;
         if(_loc1_)
         {
            _loc1_.§if§();
         }
      }
      
      public static function §7"4§() : void
      {
         §<#a§ = true;
         §;!$§.§&8§();
      }
      
      public static function §1"<§() : Boolean
      {
         if(§<#a§)
         {
            return true;
         }
         return false;
      }
      
      private function get §?"b§() : §`!Q§
      {
         return mLevelManager as §`!Q§;
      }
      
      protected function §6";§(param1:String, param2:UncaughtErrorEvents, param3:String, param4:String) : void
      {
         this.§@!@§ = new §^"e§(param1,param2,param3,param4);
      }
      
      private function §'9§() : void
      {
      }
      
      protected function §>#e§() : void
      {
         var _loc1_:Loader = new Loader();
         var _loc2_:LoaderContext = new LoaderContext(false,ApplicationDomain.currentDomain);
         _loc2_.allowCodeImport = true;
         _loc1_.loadBytes(new §8"^§(),_loc2_);
      }
      
      private function §7!H§(param1:int, param2:int, param3:String = "") : void
      {
         §`"5§.§;"Y§("TrialPay",param2);
         §`"5§.trackPageView(this,§`"5§.§9>§);
         §`"5§.trackTransaction("TrialPay","In-app Shop Coins","TrialPay",param3,param2 + " x",0,param1,0);
         §4"W§.§ "D§.§@!z§();
         var _loc4_:§"g§;
         (_loc4_ = new §"g§()).currency = "IVC";
         _loc4_.§;!1§ = §6$0§.§3#j§;
         _loc4_.screen = §`"5§.§9>§;
         _loc4_.amount = param2;
         _loc4_.§>"j§ = §?!=§.§<#3§;
         _loc4_.itemType = §6$0§.§3#j§;
         §?!=§.§3!q§().§%"X§(false,_loc4_.itemType,_loc4_.amount,_loc4_.§>"j§,_loc4_.screen,_loc4_.level,_loc4_.itemType,_loc4_.§;!1§,_loc4_.§^$9§,_loc4_.currency,_loc4_.§]$9§);
      }
      
      private function §"t§() : void
      {
         §`]§(dataModel).§5$#§.§^!$§();
      }
      
      protected function § 8§() : void
      {
         var _loc3_:Stage3D = null;
         §@!o§.enabled = true;
         §`"5§.§?#0§ = false;
         var _loc1_:int = 0;
         try
         {
            _loc3_ = canvas.stage.stage3Ds[0];
            if(_loc3_)
            {
               _loc1_ = 1;
            }
         }
         catch(e:Error)
         {
         }
         if(_loc1_ == 0)
         {
            §`"5§.§>#U§("no-stage3d");
         }
         §;!$§ = this;
         §`"5§.§^!r§(§@!o§.§""-§);
         var _loc2_:ContextMenu = new ContextMenu();
         _loc2_.hideBuiltInItems();
         canvas.contextMenu = _loc2_;
         this.§?"g§();
         §!#&§.addEventListener(§6"4§.§7$"§,this.§'#r§);
         §!#&§.addEventListener(§9#1§.§7!-§,this.§4"S§);
         §!#&§.addEventListener(§9#1§.§6!x§,this.§7C§);
      }
      
      protected function §?"g§() : void
      {
         this.§4"e§ = new §-#9§("");
         this.§4"e§.start();
      }
      
      private function get accessToken() : String
      {
         return §^"1§("accessToken") || this.§!#8§;
      }
      
      private function §'#r§(param1:§6"4§) : void
      {
         §`"5§.§@#-§(param1.§%5§,param1.errorID);
      }
      
      private function §4"S§(param1:§9#1§) : void
      {
         §`"5§.§8"B§(param1.§%5§);
      }
      
      private function §7C§(param1:§9#1§) : void
      {
         §`"5§.§#!l§(param1.§%5§);
      }
      
      override protected function getLoadingScreen() : DisplayObjectContainer
      {
         return new LoadingScreen();
      }
      
      private function §?!q§(param1:Array) : void
      {
         var _loc2_:String = null;
         if(!param1)
         {
            return;
         }
         for each(_loc2_ in param1)
         {
            §"!F§.§ "D§.§<$$§(_loc2_);
         }
      }
      
      private function §;!v§(param1:String) : void
      {
         var _loc2_:GiftInboxPopup = null;
         if(this.§2#G§)
         {
            if(popupManager.isPopupInQueueById(GiftInboxPopup.ID) || popupManager.isPopupOpenById(GiftInboxPopup.ID))
            {
               GiftInboxPopup.§'5§(false);
            }
            else
            {
               _loc2_ = new GiftInboxPopup(§%"!§.NORMAL,§^#o§.DEFAULT,false);
               _loc2_.addEventListener(§ !y§.§=5§,this.§99§,false,0,true);
               _loc2_.§ #W§();
            }
         }
      }
      
      protected function §99§(param1:§ !y§) : void
      {
         var _loc2_:§!"<§ = null;
         if(param1.data.result == true)
         {
            _loc2_ = new GiftInboxPopup(§%"!§.NORMAL,§^#o§.DEFAULT,true);
            popupManager.openPopup(_loc2_);
         }
      }
      
      override protected function getAssetMap() : XML
      {
         return §8N§.§1F§(§@$=§);
      }
      
      override protected function getUIData() : XML
      {
         var _loc1_:XML = super.getUIData();
         var _loc2_:XML = §8N§.§1F§(§#$0§);
         var _loc3_:XML = §8N§.§1F§(§]k§);
         this.§%<§(_loc2_,_loc1_,["Views","Components"],true);
         this.§%<§(_loc3_,_loc1_,["Views","Components"],true);
         return _loc1_;
      }
      
      override protected function getPopupData() : XML
      {
         var _loc1_:XML = super.getPopupData();
         var _loc2_:XML = §8N§.§1F§(§>1§);
         this.§%<§(_loc2_,_loc1_,["Popups"],true);
         return _loc1_;
      }
      
      override protected function getItemDataXML() : XML
      {
         var _loc1_:XML = super.getItemDataXML();
         var _loc2_:XML = §8N§.§1F§(§?!B§);
         var _loc3_:Array = ["Item_Materials","Item_Shapes","Item_Resources_Sounds","SoundChannels","Items","Material_Damage_Multipliers","Material_Velocity_Multipliers","Slingshot_Bonus_Damages_Multipliers","Slingshot_Bird_Materials","Slingshot_Bird_Collision_Effects","Powerup_Damage_Multipliers","Powerup_Velocity_Multipliers","Material_Damage_Factor_Limits"];
         this.§%<§(_loc2_,_loc1_,_loc3_);
         return _loc1_;
      }
      
      override protected function loadItems() : void
      {
         super.loadItems();
         this.§,#5§();
      }
      
      protected function §,#5§() : void
      {
         this.§9"j§.§5G§(§0#z§.§1!7§(this.§ "C§.§'G§(§1[§,"chaptertournament")),§0#z§.§1!7§(this.§ "C§.§'G§("frommobile.lua","chaptertournament")),§0#z§.§1!7§(this.§ "C§.§'G§("slingshots.lua","core")));
         var _loc1_:int = 0;
         while(_loc1_ < this.§ "C§.§^"c§)
         {
            this.§9"j§.§]"C§(this.§ "C§.§5!k§(_loc1_));
            _loc1_++;
         }
      }
      
      override protected function getLevelBackgroundXML() : XML
      {
         var _loc1_:XML = super.getLevelBackgroundXML();
         var _loc2_:XML = §8N§.§1F§(§&$2§);
         this.§%<§(_loc2_,_loc1_,["Backgrounds"]);
         return _loc1_;
      }
      
      protected function §3"Y§() : void
      {
         var _loc1_:String = stage.loaderInfo.parameters.userId;
         var _loc2_:String = stage.loaderInfo.parameters.accessToken;
         var _loc3_:String = stage.loaderInfo.parameters.tokenExpiresIn;
         var _loc4_:String = stage.loaderInfo.parameters.acquisitionChannel;
         if(!DEBUG_MODE_ENABLED)
         {
            if(!stage.loaderInfo.parameters.userId)
            {
               §`"5§.§;!^§("userId");
            }
            if(!stage.loaderInfo.parameters.accessToken)
            {
               §`"5§.§;!^§("accessToken");
            }
            if(!stage.loaderInfo.parameters.tokenExpiresIn)
            {
               §`"5§.§;!^§("tokenExpiresIn");
            }
         }
         if(!_loc1_)
         {
            throw new Error("Did not receive a facebook user ID.",§4!v§.§3'§);
         }
         §3"p§.accessToken = this.accessToken;
         this.§##A§ = new §`#n§(stage.loaderInfo.parameters.accessToken || this.§!#8§);
         this.§%d§ = stage.loaderInfo.parameters.analyticsUrl;
         this.§[!v§ = stage.loaderInfo.parameters.userId;
         this.§1x§.§7B§ = new §?#'§(_loc1_,_loc2_);
         this.§1x§.§7B§.§?u§();
         §<!u§.load(_loc1_,_loc2_,_loc3_,_loc4_,this.§1x§.§7B§);
      }
      
      public function §!!B§() : String
      {
         return this.getUrlAsset();
      }
      
      override protected function getUrlAsset() : String
      {
         return "";
      }
      
      public function §>"[§() : String
      {
         return stage.loaderInfo.parameters.buildNumber || "";
      }
      
      override protected function initialize() : void
      {
         this.§ 8§();
         super.initialize();
         §,#3§ = stage.loaderInfo.parameters.levelId;
         §4#b§.addEventListener(Event.INIT,this.§ $,§);
         §4#b§.addEventListener(Event.COMPLETE,this.§-#§);
         §4"W§.§ "D§.§5?§(mLevelManager);
         this.§3"Y§();
         this.§,$8§();
         §;l§(false);
         § "8§.addCallback("purchaseComplete",this.§@O§);
         § "8§.addCallback("purchaseFailed",this.§#!9§);
         § "8§.addCallback("giftsSentToUsers",this.§?!q§);
         § "8§.addCallback("onUrl",this.§;!v§);
         ExternalInterface.call("trapMouse","if (window.addEventListener) window.addEventListener(\'DOMMouseScroll\', handleWheelEvent, false); window.onmousewheel = document.onmousewheel = handleWheelEvent; function handleWheelEvent(e){e.preventDefault();}");
         this.§true §();
         this.§9#$§();
      }
      
      private function §4!-§() : void
      {
         this.§,"=§ = new §1v§();
         (this.§,"=§ as §1v§).addEventListener(Event.COMPLETE,this.§8$=§);
         this.§,"=§.§`c§();
      }
      
      private function §8$=§(param1:Event) : void
      {
         var _loc3_:§0!B§ = null;
         var _loc4_:§!"<§ = null;
         var _loc5_:§!"<§ = null;
         var _loc2_:Array = new Array();
         for each(_loc3_ in this.§,"=§.§;G§)
         {
            if(_loc3_.§+#v§)
            {
               _loc5_ = new §+#J§(§%"!§.NORMAL,§^#o§.§%L§);
               _loc4_ = new §92§(§%"!§.NORMAL,§^#o§.DEFAULT,null,null,_loc5_);
            }
            else
            {
               _loc4_ = new §0$<§(§%"!§.NORMAL,§^#o§.DEFAULT,_loc3_);
            }
            popupManager.openPopup(_loc4_);
            _loc2_.push(_loc3_.id);
         }
         if(_loc2_.length > 0)
         {
            this.§,"=§.§=!!§(_loc2_);
         }
      }
      
      private function §true §() : void
      {
         var _loc1_:String = this.§[!v§;
         var _loc2_:String = this.accessToken;
         var _loc3_:§?!=§ = §?!=§.§3!q§();
         _loc3_.init(_loc1_,_loc2_,false);
         if(this.§%d§ && this.§%d§.indexOf("https://") == -1)
         {
            this.§%d§ = "https://" + this.§%d§;
         }
         _loc3_.analyticsUrl = this.§%d§;
      }
      
      private function §9#$§() : void
      {
         §6"p§.§&-§();
      }
      
      private function §@O§(param1:String, param2:Number, param3:String, param4:String) : void
      {
         if(param4 == "completed")
         {
            §4"W§.§ "D§.§@!z§(param2 > 0);
         }
      }
      
      private function §#!9§() : void
      {
         CoinShopPopup.§1"+§ = false;
         var _loc1_:CoinShopPopup = AngryBirdsBase.singleton.popupManager.getOpenPopupById(CoinShopPopup.ID) as CoinShopPopup;
         if(_loc1_)
         {
            _loc1_.§9!Q§();
         }
      }
      
      protected function §,$8§() : void
      {
         this.§0#-§ = new §`#+§(new §0#>§());
      }
      
      public function §]D§() : §0#>§
      {
         return this.§0#-§.§4!?§;
      }
      
      protected function §]#O§() : void
      {
         this.§0#R§ = new §&"8§(§03§,SERVER_ROOT,(§5""§.userProgress as §4"-§).userID,this.§?"b§);
         this.§7!n§.addChild(this.§0#R§);
         this.§0#R§.height = stage.stageHeight;
         this.§0#R§.x = stage.stageWidth - 180;
         this.§0#R§.addEventListener(§`$<§.§ V§,this.§'"9§);
         this.§0#R§.addEventListener(§`$<§.§use §,this.§?-§);
         this.§0#R§.addEventListener(§`$<§.§"#8§,this.§,1§);
         this.§0#R§.addEventListener(§`$<§.§?n§,this.§7!4§);
         this.§0#R§.addEventListener(§`$<§.§@"^§,this.§;A§);
         this.§0#R§.addEventListener(§`$<§.§;!@§,this.§=#=§);
         this.§0#R§.addEventListener(§`$<§.§4#G§,this.§!#h§);
         this.§0#R§.addEventListener(§`$<§.§3"e§,this.§>"?§);
         this.§0#R§.addEventListener(§`$<§.BRAG,this.§5"0§);
         this.§0#R§.addEventListener(§`$<§.PLAY_LEVEL,this.§]#Z§);
         this.§0#R§.addEventListener(§`$<§.§`q§,this.§#g§);
         this.§2#l§ = new InviteFriendsPopup(§%"!§.NORMAL,§^#o§.DEFAULT);
         this.§2#l§.addEventListener(§`$<§.§ V§,this.§'"9§);
         this.§2#l§.addEventListener(§`$<§.§^#$§,this.§9C§);
         this.§^#V§ = null;
      }
      
      protected function §#g§(param1:Event) : void
      {
         var _loc2_:§!"<§ = new §+$<§(§%"!§.NORMAL,§^#o§.DEFAULT);
         popupManager.openPopup(_loc2_);
      }
      
      protected function § $,§(param1:Event) : void
      {
         §5V§.§5#G§(false);
      }
      
      protected function §-#§(param1:Event) : void
      {
         §5V§.§5#G§(true);
      }
      
      public function §6#1§(param1:int, param2:Array = null) : void
      {
         this.§0#R§.§<f§(param1,param2);
      }
      
      public function §2!j§(param1:String) : void
      {
         this.§0#R§.§-!r§(param1);
      }
      
      public function §8#d§(param1:String) : void
      {
         this.§0#R§.§#y§(param1);
         this.§0#R§.§-!r§(param1);
      }
      
      override protected function initializeLevelMain() : §!!S§
      {
         return new §#!L§(stage,§ "G§,§7"h§,mLevelManager);
      }
      
      override protected function initializeLevelItemManager() : §&"T§
      {
         return new §5#`§();
      }
      
      override protected function initializeLevelThemeManager() : §[k§
      {
         return new §@#L§();
      }
      
      override protected function initializeDataModel() : void
      {
         §5""§ = new §`]§();
      }
      
      override protected function initializeLevelManager() : §^#Q§
      {
         return new §`!Q§();
      }
      
      override protected function initializePackageManager() : §4b§
      {
         return new §`"v§(mLevelManager,§2>§(§ "G§));
      }
      
      override protected function initializeUserProgress() : void
      {
         §5""§.userProgress = new §4"-§(SERVER_ROOT,mLevelManager);
      }
      
      override protected function initializeStates() : void
      {
         §?!7§(new §5!"§(mLevelManager,§2>§(§ "G§),§0"C§,false));
         §?!7§(new §&$-§(mLevelManager,§0"C§,false));
         §?!7§(new §>!&§(mLevelManager,§0"C§,false));
         §?!7§(new §-!c§(mLevelManager,§0"C§,false));
         §?!7§(new §'!!§(mLevelManager,§0"C§,false));
         §?!7§(new §&I§(mLevelManager,§0"C§,false));
         §?!7§(new §7!x§(mLevelManager,§0"C§,false));
         §?!7§(new §>#"§(mLevelManager,§0"C§,false));
         §?!7§(new §'!8§(mLevelManager,§0"C§,false));
         §?!7§(new §%"5§(mLevelManager,§0"C§,false));
         §?!7§(new §!#G§(mLevelManager,§0"C§,false));
         §?!7§(new §<![§(mLevelManager,§0"C§,false));
         §?!7§(new §,#E§(mLevelManager,§0"C§,false));
         §?!7§(new §1!a§(mLevelManager,§0"C§,false));
         §?!7§(new §#p§(mLevelManager,§0"C§,false));
         §?!7§(new §>!k§(mLevelManager,§0"C§,false));
         §?!7§(new §`$>§(mLevelManager,§2>§(§ "G§),§0"C§,false));
         §?!7§(new §6#K§(mLevelManager,§0"C§,false));
         §?!7§(new §^!E§(mLevelManager,§0"C§,false));
         §?!7§(new StateLastWeeksTournamentResults(mLevelManager,§0"C§,false));
         §?!7§(new §@!x§(mLevelManager,§0"C§,false));
         §?!7§(new StateTournamentResults(mLevelManager,false,§0"C§));
      }
      
      override protected function createStateObject(param1:Class) : §'!L§
      {
         if(param1 == §+!R§ || param1 == §`$>§)
         {
            return new param1(mLevelManager,§2>§(§ "G§),§0"C§);
         }
         return new param1(mLevelManager,§0"C§);
      }
      
      public function §2$=§() : void
      {
         mLevelManager.selectEpisode(6);
         §5"p§(§,#E§.STATE_NAME);
      }
      
      override protected function setupPopupManager() : void
      {
         §6#6§ = new MovieClip();
         §'!P§.stage.addChild(§6#6§);
         §8,§ = new §8!e§(§6#6§,§0"C§,this);
         §8,§.addEventListener(§?#7§.OPEN,§6#c§);
         §8,§.addEventListener(§?#7§.CLOSE,§!#$§);
         §=#j§ = new §8`§(§8,§,§5""§,§+!&§.§3!5§,new §@#I§(),new §'E§());
         §8,§.addLayer(§%"!§.NORMAL,true,new Rectangle(0,0,0,0));
         §8,§.addLayer(§%"!§.INFO,true,new Rectangle(0,0,0,0));
         §8,§.addLayer(§%"!§.§4!P§,true,new Rectangle(0,0,0,0));
         §8,§.addLayer(§%"!§.ERROR,true,new Rectangle(0,0,0,0));
      }
      
      override protected function initStateLoad() : §>x§
      {
         if(!DEBUG_MODE_ENABLED)
         {
            if(!stage.loaderInfo.parameters.assetsUrl)
            {
               §`"5§.§;!^§("assetsUrl");
            }
            if(stage.loaderInfo.parameters.buildNumber)
            {
            }
         }
         try
         {
            Security.allowDomain("*");
            Security.allowInsecureDomain("*");
         }
         catch(e:Error)
         {
         }
         var _loc1_:String = "/flash/";
         if(!stage.loaderInfo.parameters.assetsUrl)
         {
            _loc1_ = "";
         }
         §<!&§.initialize(stage.loaderInfo.parameters.assetsUrl,_loc1_,"");
         return new §+"?§(§0"C§,true,§>x§.STATE_NAME,getMinLoadingScreenTime(),"","");
      }
      
      override protected function onGraphicsInitialized(param1:Event) : void
      {
         var _loc4_:String = null;
         §2!w§ = true;
         var _loc2_:String = §>!&§.STATE_NAME;
         if(§,#3§)
         {
            if(§,#3§.indexOf("2000-") > -1)
            {
               _loc2_ = §^!E§.STATE_NAME;
            }
            else if(§>#0§.§5f§(§>#0§.§%,§) == §>#0§.§2!]§)
            {
               _loc2_ = §>!&§.STATE_NAME;
               §,#3§ = null;
            }
            else
            {
               §-!t§.§ "D§.§@"C§();
               if((_loc4_ = mLevelManager.getValidLevelId(§,#3§)) != §,#3§)
               {
                  §`"5§.§&#y§(§,#3§);
               }
               §,#3§ = null;
               if(§5""§.userProgress.isLevelOpen(_loc4_))
               {
                  this.§6#1§(§&"8§.§+"o§);
                  this.§'"=§(_loc4_);
                  _loc2_ = null;
               }
               else
               {
                  _loc2_ = §-!c§.STATE_NAME;
               }
            }
         }
         var _loc3_:String = §^"1§("fb_source");
         if(_loc3_ && _loc3_ != "null")
         {
            §?!=§.§3!q§().§>"e§(_loc3_,"");
         }
         if(_loc2_)
         {
            §5"p§(_loc2_);
         }
      }
      
      public function §'"=§(param1:String) : void
      {
         param1 = mLevelManager.getValidLevelId(param1);
         mLevelManager.loadLevel(param1);
         if(param1.indexOf("2000-") > -1)
         {
            §5"p§(§1!a§.STATE_NAME);
         }
         else
         {
            §5"p§(StateCutScene.STATE_NAME);
         }
      }
      
      override public function setFirstGameState() : void
      {
         this.§2#G§ = true;
         this.§&8§();
      }
      
      protected function §=!?§() : void
      {
         super.setFirstGameState();
      }
      
      public function §&8§() : void
      {
         var _loc1_:Object = null;
         var _loc2_:§!"<§ = null;
         var _loc3_:Class = null;
         var _loc4_:Array = null;
         var _loc5_:§4"v§ = null;
         var _loc6_:URLRequest = null;
         if(!this.§2#G§ || !§<#a§)
         {
            return;
         }
         this.§=!?§();
         §-!t§.§ "D§.§5?§(mLevelManager);
         §-!t§.§ "D§.addEventListener(§'"R§.§`$6§,this.§6"$§);
         §;$-§.§ "D§.addEventListener(§+!x§.§ !Q§,this.§-A§);
         §5F§.§4"b§ = new § P§();
         §5F§.§4"b§.§5!u§();
         this.§]#O§();
         § #w§.§ "D§.init(popupManager);
         if(!§;$-§.§ "D§.active)
         {
            if(TournamentResultsPopup.§=#O§)
            {
               _loc2_ = new TournamentResultsPopup(§%"!§.NORMAL,§^#o§.DEFAULT,true);
               popupManager.openPopup(_loc2_);
            }
         }
         if(§-!t§.§ "D§.tournamentRules && §-!t§.§ "D§.tournamentRules.§8!g§)
         {
            _loc3_ = §-!t§.§ "D§.tournamentRules.§8!g§;
            _loc2_ = new _loc3_(§%"!§);
            popupManager.openPopup(_loc2_);
         }
         §-!t§.§ "D§.addEventListener(§'"R§.§6#+§,this.§=L§);
         §-!t§.§ "D§.addEventListener(§'"R§.§7$9§,this.§7P§);
         §-!t§.§ "D§.addEventListener(§'"R§.§ !A§,this.§[#E§);
         if(GiftInboxPopup.§9"H§)
         {
            _loc2_ = new GiftInboxPopup(§%"!§.NORMAL,§^#o§.DEFAULT,true);
            popupManager.openPopup(_loc2_);
         }
         if(§4"W§.§ "D§.§^$!§.§!o§(§@#m§.§70§))
         {
            popupManager.openPopup(new § #9§(§%"!§.NORMAL,§^#o§.DEFAULT));
         }
         this.§false§ = new §??§();
         this.§false§.§9f§();
         this.§8$%§ = new Vector.<§4"v§>();
         for each(_loc1_ in §4"W§.§ "D§.§^$!§.claimableBundles)
         {
            if(§4"W§.§ "D§.§^$!§.§!o§(_loc1_.toString().toUpperCase()))
            {
               switch(_loc1_.toString().toUpperCase())
               {
                  case §#w§.§6!U§.definition.toUpperCase():
                     popupManager.openPopup(new § !M§(§%"!§.NORMAL,§^#o§.DEFAULT,§#w§.§6!U§));
               }
               for each(_loc4_ in §#"d§.§@"M§)
               {
                  if(_loc4_[§#"d§.§9#F§].toUpperCase() == _loc1_.toString().toUpperCase())
                  {
                     AngryBirdsBase.singleton.popupManager.openPopup(new §#"d§(_loc4_[§#"d§.§9#F§],§#"d§.§#@§));
                     (_loc5_ = new §4"v§()).addEventListener(Event.COMPLETE,this.§]#w§);
                     _loc5_.addEventListener(IOErrorEvent.IO_ERROR,this.§`#;§);
                     _loc5_.addEventListener(SecurityErrorEvent.SECURITY_ERROR,this.§`#;§);
                     _loc5_.addEventListener(§]e§.§5!;§,this.§`#;§);
                     _loc5_.dataFormat = URLLoaderDataFormat.TEXT;
                     this.§8$%§.push(_loc5_);
                     (_loc6_ = §%#9§.§`#<§(AngryBirdsBase.SERVER_ROOT + "/claimfreebundle/" + _loc4_[§#"d§.§9#F§])).method = URLRequestMethod.GET;
                     _loc5_.load(_loc6_);
                  }
               }
            }
         }
         resize(true);
         §`]§(dataModel).§5$#§.§^!$§();
         §`]§(dataModel).§#"r§.slingshots;
         this.§4!-§();
         if(§`]§(dataModel).§ in§.§"$1§)
         {
            §`]§(dataModel).§ in§.addEventListener(Event.COMPLETE,this.§7"x§);
         }
         else
         {
            this.§7"x§(null);
         }
      }
      
      private function §7P§(param1:§'"R§) : void
      {
         var blueprintItems:Array = null;
         var blueprintPackageLoader:§%#'§ = null;
         var backgroundData:XML = null;
         var luaObject:Object = null;
         var items:Array = null;
         var fn:Function = null;
         var event:§'"R§ = param1;
         if(event.data.bluePrintPackLoader)
         {
            blueprintItems = this.§9"j§.§7$ §();
            blueprintPackageLoader = §%#'§(event.data.bluePrintPackLoader);
            if(blueprintPackageLoader.§'$3§)
            {
               §!#A§.§0#=§(blueprintPackageLoader.§'$3§,blueprintItems);
            }
            return;
         }
         var packageLoader:§%#'§ = §%#'§(event.data.packLoader);
         var cb:Function = event.data.cb;
         var packName:String = "tournament_" + §-!t§.§ "D§.brandedTournamentAssetId;
         var backgroundFileName:String = "background.xml";
         var backgroundLoadedFromXML:Boolean = false;
         if(packageLoader.§'p§(backgroundFileName,packName))
         {
            backgroundData = new XML(packageLoader.§'G§(backgroundFileName,packName));
            §7"h§.loadBackgroundXML(backgroundData);
            backgroundLoadedFromXML = true;
         }
         if(packageLoader.§'p§(§1[§,packName))
         {
            luaObject = §0#z§.§1!7§(packageLoader.§'G§(§1[§,packName));
            this.§0a§(luaObject);
            items = this.§9"j§.§90§(luaObject);
            if(luaObject.linkButton)
            {
               §6"p§.§0$ §(§-!t§.§ "D§.brandedTournamentAssetId,luaObject.linkButton);
            }
            if(!backgroundLoadedFromXML && luaObject.dynamicBlocks)
            {
               (§7"h§ as §@#L§).§^#"§(luaObject.dynamicBlocks.themes,§-!t§.§ "D§.brandedTournamentAssetId);
            }
            fn = function(param1:Event):void
            {
               cb();
            };
            if(packageLoader.§'$3§)
            {
               §!#A§.§0#=§(packageLoader.§'$3§,items,fn);
            }
         }
         else
         {
            cb();
         }
      }
      
      private function §0a§(param1:Object) : void
      {
         §-!t§.§ "D§.§5#n§ = param1.shareButton;
      }
      
      protected function §=L§(param1:§'"R§) : void
      {
         if(this.§9"j§ && !§4#f§)
         {
            §4#f§ = true;
            §0"c§ = true;
            this.§9"j§.§-6§(§-!t§.§ "D§.brandedTournamentAssetId);
         }
         var _loc2_:§;!r§ = §-!t§.§ "D§.tournamentRules;
         var _loc3_:String = "THEME_MUSIC_" + _loc2_.§@!l§;
         if(§+$#§.§1!X§(_loc3_))
         {
            this.§0#-§.§&k§(_loc3_);
         }
         this.playThemeMusic();
      }
      
      public function §7"E§() : void
      {
         if(this.§9"j§)
         {
            this.§9"j§.§-6§();
            §4#f§ = false;
         }
      }
      
      protected function §!#B§() : void
      {
         var _loc1_:TournamentResultsPopup = new TournamentResultsPopup(§%"!§.NORMAL,§^#o§.TOP,false);
         AngryBirdsBase.singleton.popupManager.openPopup(_loc1_);
      }
      
      protected function §6"$§(param1:Event) : void
      {
         this.§^!h§[§=-§] = true;
         this.§^!h§[§2?§] = true;
         this.§]A§();
      }
      
      protected function §-A§(param1:Event) : void
      {
         this.§^!h§[§=-§] = true;
         this.§^!h§[§2?§] = true;
         this.§]A§();
      }
      
      private function §]A§() : void
      {
         var _loc1_:Boolean = false;
         var _loc2_:§!"<§ = null;
         for each(_loc1_ in this.§^!h§)
         {
            if(!_loc1_)
            {
               return;
            }
         }
         _loc2_ = AngryBirdsBase.singleton.popupManager.getOpenPopupById(DailyRewardPopup.ID);
         if(_loc2_)
         {
            _loc2_.addEventListener(§?#7§.CLOSE,this.§0$!§);
            return;
         }
         _loc2_ = AngryBirdsBase.singleton.popupManager.getOpenPopupById(TournamentResultsPopup.ID);
         if(_loc2_)
         {
            return;
         }
         this.§^!h§ = new Array();
         var _loc3_:Boolean = TournamentResultsPopup.§,U§();
         if(_loc3_)
         {
            §-#+§.§03§.§'!%§(§-!t§.§ "D§.levelIDs);
            if(!§;$-§.§ "D§.active)
            {
               this.§!#B§();
            }
         }
      }
      
      private function §0$!§(param1:§?#7§) : void
      {
         this.§]A§();
      }
      
      protected function §"!4§(param1:§`a§) : void
      {
         var _loc2_:§!"<§ = null;
         if(DailyRewardPopup.§%"I§)
         {
            _loc2_ = new DailyRewardPopup(§%"!§.NORMAL,§^#o§.TOP,TournamentResultsPopup.§=#O§);
            popupManager.openPopup(_loc2_);
         }
      }
      
      protected function §7"x§(param1:Event) : void
      {
         var _loc2_:Object = §`]§(AngryBirdsBase.singleton.dataModel).§ in§.§@;§(§,!z§.§4"A§);
         if(_loc2_)
         {
            §;l§(_loc2_[0]);
         }
         else
         {
            §;l§(true);
         }
         this.§0#R§.§7!r§();
         var _loc3_:Object = §`]§(AngryBirdsBase.singleton.dataModel).§ in§.§@;§(§,!z§.§9";§);
         if(_loc3_)
         {
            if(§;$-§.§ "D§.active && _loc3_[0] == §&"8§.§`#s§)
            {
               this.§0#R§.§"$9§(§&"8§.§1"K§);
            }
            else
            {
               this.§0#R§.§"$9§(§&"8§.§"#U§);
            }
         }
         this.§0"B§(null);
         if(this.§27§)
         {
            if(!§`]§(AngryBirdsBase.singleton.dataModel).§ in§.§&!!§(this.§27§.§4f§()))
            {
               AngryBirdsBase.singleton.popupManager.openPopup(this.§27§);
               §`]§(AngryBirdsBase.singleton.dataModel).§ in§.§?!;§(§,!z§.§^!?§,[this.§27§.§4f§()]);
            }
            else
            {
               this.§27§ = null;
            }
         }
      }
      
      private function §0"B§(param1:Event) : void
      {
         §`]§(dataModel).§ in§.removeEventListener(Event.COMPLETE,this.§0"B§);
         §`]§(dataModel).currencyModel.removeEventListener(Event.COMPLETE,this.§0"B§);
         if(§`]§(dataModel).currencyModel.§?!9§)
         {
            §`]§(dataModel).§#"r§.§ "O§();
            §`]§(dataModel).§@#1§.loadItems();
         }
         else
         {
            §`]§(dataModel).currencyModel.addEventListener(Event.COMPLETE,this.§0"B§);
         }
      }
      
      protected function §[#E§(param1:Event) : void
      {
         this.§`0§ = setInterval(this.§""C§,1000);
      }
      
      private function §""C§() : void
      {
         if(!§-!t§.§ "D§.§2"[§ && §-!t§.§ "D§.§]!]§() <= 0)
         {
            §-!t§.§ "D§.§9#[§();
            §-!t§.§ "D§.§2"[§ = true;
            §;$-§.§ "D§.§&$+§();
            §4!0§.§9! § = new Array();
            §4#f§ = false;
            (dataModel as §`]§).§#"r§.§6!f§();
            if(!§4"W§.§ "D§.§"$1§)
            {
               §4"W§.§ "D§.§@!z§();
            }
            if(§-!t§.§ "D§.§;"_§)
            {
               §-!t§.§ "D§.§;"_§.brandedTournamentAssetId = null;
            }
            §7!U§ = true;
         }
         clearInterval(this.§`0§);
      }
      
      public function §6#3§(param1:Object) : void
      {
         if(!§03§)
         {
            §03§ = new §9#R§(SERVER_ROOT,(AngryBirdsBase.singleton.dataModel.userProgress as §4"-§).userID,(AngryBirdsBase.singleton.dataModel.userProgress as §4"-§).userName);
         }
         §03§.injectData(param1);
         var _loc2_:int = §%!?§.§7p§();
         if(_loc2_ >= 0)
         {
            §`"5§.§@"$§(_loc2_);
         }
      }
      
      override protected function resizeViews(param1:int, param2:int, param3:Boolean = false) : void
      {
         var _loc4_:int = param1;
         if(this.§0#R§)
         {
            param1 -= 180;
            this.§0#R§.x = param1;
            this.§0#R§.height = param2;
         }
         super.resizeViews(param1,param2,param3);
         this.§4r§(_loc4_,param2);
      }
      
      public function §4r§(param1:Number, param2:Number) : void
      {
         popupManager.setViewSize(param1,param2);
      }
      
      protected function §%<§(param1:XML, param2:XML, param3:Array, param4:Boolean = false) : void
      {
         var _loc5_:String = null;
         var _loc6_:XML = null;
         for each(_loc5_ in param3)
         {
            for each(_loc6_ in param1[_loc5_].§*§)
            {
               if(param4)
               {
                  delete param2[_loc5_][_loc6_.name()];
               }
               if(!param2[_loc5_][0])
               {
                  param2.appendChild(param1[_loc5_]);
               }
               else
               {
                  param2[_loc5_].appendChild(_loc6_);
               }
            }
         }
      }
      
      protected function §'"9§(param1:§`$<§) : void
      {
         var _loc2_:Boolean = false;
         var _loc3_:String = null;
         var _loc4_:String = null;
         var _loc5_:int = 0;
         if(param1.data != null)
         {
            exitFullScreen();
            _loc2_ = false;
            if(param1.data.hasOwnProperty("requireReceipt"))
            {
               _loc2_ = param1.data.requireReceipt;
            }
            _loc3_ = param1.data.userId;
            _loc4_ = "SIDEBAR";
            if(param1.data.hasOwnProperty("origin"))
            {
               _loc4_ = param1.data.origin;
            }
            _loc5_ = _loc3_.match(/,/g).length + 1;
            §?!=§.§3!q§().§0!;§(_loc5_,_loc4_);
            § "8§.§ "§("updateSessionToken",§5h§.§0#,§);
            § "8§.§ "§("flashInviteFriendsHandler",_loc3_,_loc2_,§9N§.§^"?§(§9N§.INVITE));
         }
         else
         {
            §`"5§.§[!w§();
            popupManager.openPopup(this.§2#l§);
         }
      }
      
      protected function §9C§(param1:§`$<§) : void
      {
         if(param1.data != null)
         {
            this.§'M§.§9"E§(param1.data);
         }
      }
      
      protected function §?-§(param1:§`$<§) : void
      {
         var _loc2_:TabbedShopPopup = new TabbedShopPopup(§%"!§.NORMAL,§^#o§.DEFAULT);
         popupManager.openPopup(_loc2_);
         _loc2_.addEventListener(§?#7§.§7#o§,this.§'#§);
      }
      
      protected function §,1§(param1:§`$<§) : void
      {
         var _loc2_:AvatarCreatorPopup = new AvatarCreatorPopup(§%"!§.NORMAL,§^#o§.DEFAULT);
         popupManager.openPopup(_loc2_);
         _loc2_.addEventListener(§?#7§.§7#o§,this.§%!G§);
      }
      
      protected function §%!G§(param1:Event) : void
      {
         this.§0#R§.§`;§(§`]§(dataModel).§?#P§);
      }
      
      protected function §'#§(param1:Event) : void
      {
         this.§4"T§();
      }
      
      public function §4"T§() : void
      {
         this.§0#R§.§`'§();
      }
      
      protected function §7!4§(param1:Event) : void
      {
         §6"0§();
      }
      
      protected function §;A§(param1:§`$<§) : void
      {
         §9#0§.uiInteractionHandler(0,"showCredits",null);
      }
      
      protected function §=#=§(param1:§`$<§) : void
      {
         if(§9#0§ is StatePlay)
         {
            StatePlay(§9#0§).showTutorials();
         }
      }
      
      protected function §>"?§(param1:§`$<§) : void
      {
         var _loc2_:GiftInboxPopup = new GiftInboxPopup(§%"!§.NORMAL,§^#o§.DEFAULT,true);
         popupManager.openPopup(_loc2_);
      }
      
      protected function §5"0§(param1:§`$<§) : void
      {
         var _loc2_:§2"_§ = null;
         var _loc3_:int = 0;
         var _loc4_:String = null;
         var _loc5_:String = null;
         var _loc6_:String = null;
         var _loc7_:int = 0;
         if(!this.§^#V§)
         {
            this.§^#V§ = new Timer(1000);
            this.§^#V§.addEventListener(TimerEvent.TIMER,this.§]"z§);
            this.§^#V§.start();
            exitFullScreen();
            _loc2_ = param1.data as §2"_§;
            _loc3_ = _loc2_.§^?§.rank - 1;
            §`"5§.§ $$§(_loc3_.toString());
            _loc5_ = (_loc4_ = mLevelManager.currentLevel != null ? mLevelManager.currentLevel : mLevelManager.previousLevel).substr(0,_loc4_.indexOf("-"));
            _loc6_ = §`!Q§(mLevelManager).§+#O§(_loc4_);
            if((_loc7_ = §-!t§.§ "D§.levelIDs.indexOf(_loc4_)) > -1)
            {
               _loc6_ = String(§-!t§.§ "D§.§9`§(_loc4_));
            }
            § "8§.§ "§("updateSessionToken",§5h§.§0#,§);
            § "8§.§ "§("flashBrag",_loc2_.§^?§.userId,_loc5_,_loc4_,mLevelManager.getCurrentEpisodeModel().writtenName + "-" + _loc6_,_loc6_,§9N§.§^"?§(§9N§.BRAG));
         }
      }
      
      private function §]"z§(param1:TimerEvent) : void
      {
         if(this.§^#V§)
         {
            this.§^#V§.stop();
            this.§^#V§.removeEventListener(TimerEvent.TIMER,this.§]"z§);
            this.§^#V§ = null;
         }
      }
      
      protected function §]#Z§(param1:§`$<§) : void
      {
         var _loc2_:String = param1.target.data.lvl;
         var _loc3_:String = mLevelManager.getValidLevelId(_loc2_);
         if(_loc3_ != _loc2_)
         {
            §`"5§.§&#y§(_loc2_);
         }
         if(§5""§.userProgress.isLevelOpen(_loc3_))
         {
            mLevelManager.loadLevel(_loc3_);
            §5"p§(StateCutScene.STATE_NAME);
            return;
         }
      }
      
      protected function §!#h§(param1:§`$<§) : void
      {
         var musicManager:§0#>§ = null;
         var mySO:SharedObject = null;
         var e:§`$<§ = param1;
         §;l§(!§""$§());
         if(§""$§())
         {
            if(§="!§() == StatePlay.STATE_NAME)
            {
               if(!§!#A§.isPaused)
               {
                  §!#A§.§#F§.background.playAmbientSound();
               }
            }
            else if(this.§5!#§())
            {
               musicManager = §-#+§.§;!$§.§]D§();
               musicManager.§@#b§(§`#+§.§[#!§);
            }
         }
         try
         {
            mySO = SharedObject.getLocal(§<!o§,§1!L§);
            mySO.data.useSounds = §7g§;
            mySO.flush();
         }
         catch(e:Error)
         {
         }
      }
      
      public function §7&§(param1:String, param2:int) : Boolean
      {
         var _loc6_:Object = null;
         var _loc7_:Object = null;
         var _loc3_:int = (§5""§.userProgress as §4"-§).getStarsForLevel(param1,param2);
         var _loc4_:Object = this.§&#N§(param2,_loc3_,0,true);
         var _loc5_:Number = 0;
         if(§-!t§.§ "D§ && §-!t§.§ "D§.levelScores)
         {
            _loc6_ = null;
            for each(_loc7_ in §-!t§.§ "D§.levelScores)
            {
               if(_loc7_.l == param1)
               {
                  _loc7_.p = param2;
                  _loc7_.r = !!_loc4_.rankAfterUpdate ? _loc4_.rankAfterUpdate : 0;
                  _loc6_ = _loc7_;
               }
               _loc5_ += param2;
            }
            if(!_loc6_)
            {
               (_loc6_ = new Object()).l = param1;
               _loc6_.p = param2;
               _loc6_.r = !!_loc4_.rankAfterUpdate ? _loc4_.rankAfterUpdate : 0;
               §-!t§.§ "D§.levelScores.push(_loc6_);
               _loc5_ += param2;
            }
         }
         if(_loc4_.rankAfterUpdate)
         {
            (§5""§.userProgress as §4"-§).§""`§(param1,_loc4_.rankAfterUpdate);
         }
         if(§;$-§.§ "D§.active)
         {
            return _loc4_.leagueRankAfterUpdate < _loc4_.leagueOriginalRank;
         }
         return false;
      }
      
      public function §0v§(param1:String) : void
      {
         var _loc2_:int = §5""§.userProgress.getScoreForLevel(param1);
         var _loc3_:int = §5""§.userProgress.getStarsForLevel(param1);
         var _loc4_:int = §5""§.userProgress.getEagleScoreForLevel(param1);
         var _loc5_:Object;
         if((_loc5_ = this.§&#N§(_loc2_,_loc3_,_loc4_)).rankAfterUpdate)
         {
            (§5""§.userProgress as §4"-§).§&#@§(param1,_loc5_.rankAfterUpdate);
         }
      }
      
      private function §&#N§(param1:int, param2:int, param3:int = 0, param4:Boolean = false) : Object
      {
         return this.§'M§.§1J§(mLevelManager.currentLevel,param1,param2,param3,param4);
      }
      
      public function get §'M§() : §&"8§
      {
         return this.§0#R§;
      }
      
      public function get §[#G§() : §-#9§
      {
         return this.§4"e§;
      }
      
      public function §9"9§() : void
      {
         if(this.§4"e§)
         {
            this.§4"e§.§^"M§();
         }
      }
      
      override public function getVersionInfo() : String
      {
         return "Version: " + §-#!§ + " " + §%"u§;
      }
      
      public function §<"b§() : String
      {
         return §`"5§.§]"§;
      }
      
      public function §>"-§() : String
      {
         return §@!o§.§<#`§;
      }
      
      override protected function initializeGame() : void
      {
         var _loc1_:int = Math.round(getTimer() / 1000);
         §`"5§.§^!r§(§@!o§.§<#`§,_loc1_.toString(),_loc1_);
         §`"5§.trackPageView(this,§@!o§.§<#`§);
         this.§2#G§ = true;
         super.initializeGame();
      }
      
      override protected function onKeyDown(param1:KeyboardEvent) : void
      {
         super.onKeyDown(param1);
         if(!this.§79§)
         {
            this.§79§ = String.fromCharCode(param1.keyCode);
         }
         else
         {
            this.§79§ += String.fromCharCode(param1.keyCode);
         }
         this.§79§ = this.§79§.toLowerCase();
         if(this.§79§.length > 15)
         {
            this.§79§ = this.§79§.substr(1);
         }
      }
      
      public function get §6#Q§() : §??§
      {
         return this.§false§;
      }
      
      override public function externalPause() : void
      {
      }
      
      override public function externalResume() : void
      {
      }
      
      protected function get §9"j§() : §5#`§
      {
         return §5#`§(§ "G§);
      }
      
      protected function get § "C§() : §`"v§
      {
         return §`"v§(§["t§);
      }
      
      override protected function getThemeMusicName() : String
      {
         return §`#+§.§[#!§;
      }
      
      override public function playThemeMusic() : void
      {
         var _loc1_:§0#>§ = null;
         if(§0"c§)
         {
            if(this.§5!#§())
            {
               _loc1_ = §-#+§.§;!$§.§]D§();
               _loc1_.§;"@§(§`#+§.§[#!§);
            }
            this.§,$=§ = false;
         }
         else
         {
            this.§,$=§ = true;
         }
      }
      
      private function §+"g§() : Boolean
      {
         var _loc1_:§5I§ = §!#&§.§3!c§("Channel_Theme");
         return _loc1_.§>$"§ > 0;
      }
      
      override public function stopThemeMusic() : void
      {
         var _loc2_:§="D§ = null;
         var _loc1_:§5I§ = §!#&§.§3!c§("Channel_Theme");
         if(_loc1_.§>$"§ > 0)
         {
            _loc2_ = _loc1_.§,"W§(0);
            this.§]D§().§[!q§(_loc2_.§^§,_loc2_.id);
         }
         super.stopThemeMusic();
      }
      
      public function get §+@§() : §`#n§
      {
         return this.§##A§;
      }
      
      public function get §1x§() : §`]§
      {
         return §`]§(dataModel);
      }
      
      override public function setState(param1:String) : Boolean
      {
         var _loc2_:Boolean = super.setState(param1);
         if(_loc2_)
         {
            this.§=$8§(param1);
         }
         return _loc2_;
      }
      
      public function §=$8§(param1:String) : void
      {
         var _loc2_:int = 0;
         while(_loc2_ < §2G§.length)
         {
            if(§2G§[_loc2_][0] == param1)
            {
               this.§"#x§ = _loc2_;
               break;
            }
            _loc2_++;
         }
      }
      
      public function §[#C§() : Object
      {
         var _loc1_:Object = new Object();
         _loc1_.state = §2G§[this.§"#x§][0];
         _loc1_.screenName = §2G§[this.§"#x§][1];
         return _loc1_;
      }
      
      private function §]#w§(param1:Event) : void
      {
         var _loc2_:int = 0;
         if(param1.currentTarget.data)
         {
            _loc2_ = 0;
            while(_loc2_ < this.§8$%§.length)
            {
               if(this.§8$%§[_loc2_].data == param1.currentTarget.data)
               {
                  this.§8$%§.splice(_loc2_,1);
                  break;
               }
               _loc2_++;
            }
         }
         if(this.§8$%§.length == 0)
         {
            §4"W§.§ "D§.§@!z§();
         }
      }
      
      private function §`#;§(param1:ErrorEvent) : void
      {
         §?!T§.log("Can\'t claim bundle: " + param1.toString());
      }
      
      public function §+T§(param1:String) : void
      {
         var _loc2_:Object = {"origin":param1};
         var _loc3_:QuestionPopup = new QuestionPopup(§%"!§.NORMAL,§^#o§.DEFAULT,"Friend list permission","In order to play with your friends, you need to allow access to your facebook friend info.\n" + "Do you want to play with your friends?",QuestionPopup.§%#u§,_loc2_,"FriendlistPermission");
         _loc3_.addEventListener(§+0§.§5!I§,this.§!!<§);
         if(this.§2#G§)
         {
            AngryBirdsBase.singleton.popupManager.openPopup(_loc3_);
         }
         else
         {
            this.§27§ = _loc3_;
         }
      }
      
      private function §!!<§(param1:§+0§) : void
      {
         §`"5§.§6!y§();
         AngryBirdsBase.singleton.exitFullScreen();
         § "8§.addCallback("gamePermissionRequestComplete",this.gamePermissionRequestComplete);
         § "8§.§ "§("askForMissingGamePermissions");
         var _loc2_:String = "";
         if(param1.data.hasOwnProperty("origin"))
         {
            _loc2_ = param1.data.origin;
         }
         §?!=§.§3!q§().§5#_§(_loc2_);
         if(AngryBirdsBase.DEBUG_MODE_ENABLED)
         {
            this.gamePermissionRequestComplete("true");
         }
         if(this.§27§)
         {
            this.§27§ = null;
         }
      }
      
      private function gamePermissionRequestComplete(param1:String) : void
      {
         § "8§.§+#R§("gamePermissionRequestComplete",this.gamePermissionRequestComplete);
         §&"8§.§4!I§ = param1 == "true";
         if(§&"8§.§4!I§)
         {
            this.§6#1§(§&"8§.§+!q§);
            §<!u§.§%"K§();
         }
      }
      
      public function §=!5§() : void
      {
         this.§0Q§ = new Timer(this.§1x§.§7B§.expiresIn * 1000,1);
         this.§0Q§.addEventListener(TimerEvent.TIMER_COMPLETE,this.§;#u§);
         this.§0Q§.start();
      }
      
      private function §;#u§(param1:TimerEvent) : void
      {
         this.§0Q§.stop();
         this.§0Q§ = null;
         this.§1x§.§7B§.§?u§();
      }
      
      public function §5<§() : § "6§
      {
         if(this.§;$ § == null)
         {
            this.§;$ § = new §<#>§(mLevelManager);
         }
         return this.§;$ §;
      }
      
      override public function onEnterFrame(param1:Event) : void
      {
         super.onEnterFrame(param1);
         §>#`§.§ "D§.§2#v§();
         § "a§.§ "D§.§2"!§();
         if(this.§,$=§)
         {
            this.playThemeMusic();
         }
      }
      
      private function §5!#§() : Boolean
      {
         switch(§="!§())
         {
            case §-!c§.STATE_NAME:
            case §7!c§.STATE_NAME:
            case §@"X§.STATE_NAME:
            case §>!&§.STATE_NAME:
            case §,#E§.STATE_NAME:
            case §<![§.STATE_NAME:
            case §^!E§.STATE_NAME:
            case §@!1§.STATE_NAME:
            case StateTournamentResults.STATE_NAME:
               return true;
            default:
               return false;
         }
      }
   }
}
